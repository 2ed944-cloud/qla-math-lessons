<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>QLA Mathematics — Lessons Portal</title>

  <!-- Tailwind (CDN, zero build) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet"/>

  <style>
    :root{
      --ocean:#296C81;      /* QLA ocean teal */
      --oceanDeep:#1B424E;  /* deeper teal */
      --mint:#15AC90;       /* brand accent seen in hero blends */
      --gold:#C7A34F;       /* supportive accent for chips/lines */
      --ink:#1f2937;
      --muted:#6b7280;
      --bg:#f7f7f7;
    }
    html,body{height:100%}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;background:var(--bg);color:var(--ink)}

    /* HERO gradient reminiscent of QLA hero overlays */
    .hero-grad{
      background-image:
        radial-gradient(1000px 600px at 90% 15%, rgba(21,172,144,0.18) 0%, transparent 65%),
        radial-gradient(1200px 640px at 10% 75%, rgba(255,255,255,0.10) 0%, transparent 65%),
        linear-gradient(121deg, #06DC9B -44%, #15AC90 8%, #15AB90 10%, #296C81 78%);
    }
    .brand-chip{font-size:11px;padding:.2rem .55rem;border-radius:999px;border:1px solid #e5e7eb;background:#ffffffa8;color:#1b424e}
    .pill{font-size:11px;padding:.2rem .55rem;border-radius:999px;border:1px solid #e5e7eb;background:#f9fafb;color:#374151}
    .pill.ok{background:var(--gold);color:#111;border-color:var(--gold)}
    .pill.soon{background:#eef2f7;color:#66727e;border-color:#e5e7eb}
    .tab[aria-selected="true"]{background:#fff;color:var(--oceanDeep);border-color:var(--gold)}
    .tab[aria-selected="false"]{background:transparent;color:#fff;border-color:rgba(255,255,255,.35)}
    .card{transition:transform .15s ease, box-shadow .15s ease}
    .card:hover{transform:translateY(-2px); box-shadow:0 14px 36px rgba(0,0,0,.08)}
    .kbd{font-variant-numeric:tabular-nums; font-weight:700; padding:.1rem .35rem; border-radius:.4rem; border:1px solid #d1d5db; background:#fff}
    .divider{height:1px;background:linear-gradient(90deg, transparent, #e5e7eb, transparent)}
  </style>
</head>
<body>

  <!-- HERO / TOP NAV -->
  <header class="hero-grad text-white">
    <div class="mx-auto max-w-7xl px-4 sm:px-6">
      <!-- Top bar -->
      <div class="flex items-center justify-between py-5">
        <div class="flex items-center gap-3">
          <img src="assets/logo.svg" alt="QLA Logo" class="h-12 w-auto"/>
          <div class="leading-tight">
            <div class="text-2xl sm:text-3xl font-extrabold drop-shadow">QLA Mathematics Lessons</div>
            <div class="text-sm opacity-90">Qatar Leadership Academy — Member of Qatar Foundation</div>
          </div>
        </div>
        <div class="hidden sm:flex items-center gap-2 bg-white/10 rounded-xl px-3 py-2">
          <span class="text-xs">Shortcuts</span>
          <span class="kbd">/</span><span class="text-xs">Search</span>
          <span class="kbd">G</span><span class="text-xs">Toggle Grade</span>
        </div>
      </div>

      <!-- Tabs -->
      <div class="mt-2 flex items-center gap-2 pb-5">
        <button id="tab7" class="tab inline-flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-extrabold transition"
                aria-selected="true" data-target="#panel7" title="Grade 7">Grade 7</button>
        <button id="tab8" class="tab inline-flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-extrabold transition"
                aria-selected="false" data-target="#panel8" title="Grade 8">Grade 8</button>
        <div class="ml-auto flex items-center gap-2">
          <span class="brand-chip">Modern Portal</span>
          <span class="brand-chip">Course-outline Driven</span>
          <span class="brand-chip">Auto “Open / Coming soon”</span>
        </div>
      </div>
    </div>
  </header>

  <!-- SEARCH BAR -->
  <section class="-mt-6">
    <div class="mx-auto max-w-7xl px-4 sm:px-6">
      <div class="rounded-2xl bg-white border border-gray-200 shadow-sm p-4">
        <label class="block text-sm font-semibold text-gray-700 mb-1" for="search">Search lessons (title, keywords)…</label>
        <input id="search" type="search" placeholder="e.g., Orientation, Opposites, BIDMAS, Fractions, Pythagoras"
               class="w-full rounded-lg border-gray-300 focus:ring-[var(--gold)] focus:border-[var(--gold)] px-3 py-2"/>
        <div class="mt-1 text-xs text-gray-500">Press <span class="kbd">/</span> to focus search. Use tabs to switch grades.</div>
      </div>
    </div>
  </section>

  <!-- CONTENT -->
  <main class="mx-auto max-w-7xl px-4 sm:px-6">
    <div class="my-8 divider"></div>

    <!-- GRADE 7 -->
    <section id="panel7">
      <h2 class="text-xl font-extrabold text-[var(--oceanDeep)]">Grade 7 — Lessons (Course Outline)</h2>
      <p class="text-sm text-gray-600 mt-1">Lesson 1 is <b>Welcome &amp; Orientation</b>. As you upload more lessons, the page detects them and switches to <b>Open</b> automatically.</p>

      <!-- Pinned: Welcome & Orientation -->
      <div class="mt-4 grid gap-3 sm:grid-cols-2 lg:grid-cols-3">
        <article class="card rounded-2xl border border-gray-200 bg-white p-4" data-href="grade7/welcome.html">
          <div class="flex items-start gap-3">
            <div class="rounded-lg bg-white shadow p-2">
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M6 8h12M6 12h12M6 16h8" stroke="#1B424E" stroke-width="1.5" stroke-linecap="round"/></svg>
            </div>
            <div class="flex-1">
              <a class="link text-[var(--oceanDeep)] font-extrabold hover:underline">Lesson 1 — Welcome & Orientation</a>
              <p class="text-sm text-gray-600 mt-0.5">Course overview • Expectations • Digital tools • Icebreaker</p>
              <div class="mt-2 flex flex-wrap gap-2">
                <span class="pill">orientation</span><span class="pill">class routines</span>
              </div>
            </div>
            <span class="pill soon">Checking…</span>
          </div>
        </article>
      </div>

      <!-- Units (selected outline topics) -->
      <h3 class="mt-6 text-sm font-extrabold text-gray-700">Units overview</h3>
      <div class="mt-2 grid gap-3 sm:grid-cols-2 lg:grid-cols-3">
        <!-- Unit 1 -->
        <article class="card rounded-2xl border border-gray-200 bg-white p-4">
          <div class="flex items-start gap-3">
            <div class="rounded-lg bg-white shadow p-2"><span class="text-[var(--oceanDeep)] font-extrabold">1</span></div>
            <div class="flex-1">
              <div class="text-[var(--oceanDeep)] font-extrabold">Unit 1 — Numbers (Rational)</div>
              <p class="text-sm text-gray-600 mt-0.5">Opposites • Add/Subt rationals • Mult/Div rationals • Combined ops (BIDMAS)</p>
              <div class="mt-2 grid gap-2">
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade7/lesson-2.html">
                  <span>Opposites — Positive & Negative</span><span class="pill soon">Coming soon</span></a>
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade7/lesson-3.html">
                  <span>Add & Subtract Rational Numbers</span><span class="pill soon">Coming soon</span></a>
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade7/lesson-4.html">
                  <span>Multiply & Divide Rational Numbers</span><span class="pill soon">Coming soon</span></a>
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade7/lesson-5.html">
                  <span>Combined Operations (BIDMAS)</span><span class="pill soon">Coming soon</span></a>
              </div>
            </div>
          </div>
        </article>

        <!-- Unit 2 -->
        <article class="card rounded-2xl border border-gray-200 bg-white p-4">
          <div class="flex items-start gap-3">
            <div class="rounded-lg bg-white shadow p-2"><span class="text-[var(--oceanDeep)] font-extrabold">2</span></div>
            <div class="flex-1">
              <div class="text-[var(--oceanDeep)] font-extrabold">Unit 2 — Properties & Fractions</div>
              <p class="text-sm text-gray-600 mt-0.5">Factors/Multiples • HCF/LCM • Fraction operations</p>
              <div class="mt-2 grid gap-2">
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade7/lesson-6.html">
                  <span>HCF & LCM</span><span class="pill soon">Coming soon</span></a>
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade7/lesson-7.html">
                  <span>Equivalent / Proper / Improper</span><span class="pill soon">Coming soon</span></a>
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade7/lesson-8.html">
                  <span>Simplify • Compare • + / − Fractions</span><span class="pill soon">Coming soon</span></a>
              </div>
            </div>
          </div>
        </article>

        <!-- Unit 3 (sample) -->
        <article class="card rounded-2xl border border-gray-200 bg-white p-4">
          <div class="flex items-start gap-3">
            <div class="rounded-lg bg-white shadow p-2"><span class="text-[var(--oceanDeep)] font-extrabold">3</span></div>
            <div class="flex-1">
              <div class="text-[var(--oceanDeep)] font-extrabold">Unit 3 — Expressions</div>
              <p class="text-sm text-gray-600 mt-0.5">Like terms • Products • Evaluate • Expand/Factor</p>
              <div class="mt-2 grid gap-2">
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade7/lesson-10.html">
                  <span>Rules & Like Terms</span><span class="pill soon">Coming soon</span></a>
              </div>
            </div>
          </div>
        </article>
        <!-- You can keep adding 7–9 etc. similarly -->
      </div>
    </section>

    <div class="my-10 divider"></div>

    <!-- GRADE 8 -->
    <section id="panel8" class="hidden">
      <h2 class="text-xl font-extrabold text-[var(--oceanDeep)]">Grade 8 — Lessons (Course Outline)</h2>
      <p class="text-sm text-gray-600 mt-1">Lesson 1 is <b>Welcome &amp; Orientation</b>. Upload lessons in <code>grade8/</code> and they will toggle to <b>Open</b> automatically.</p>

      <!-- Pinned: Welcome & Orientation -->
      <div class="mt-4 grid gap-3 sm:grid-cols-2 lg:grid-cols-3">
        <article class="card rounded-2xl border border-gray-200 bg-white p-4" data-href="grade8/welcome.html">
          <div class="flex items-start gap-3">
            <div class="rounded-lg bg-white shadow p-2">
              <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M6 8h12M6 12h12M6 16h8" stroke="#1B424E" stroke-width="1.5" stroke-linecap="round"/></svg>
            </div>
            <div class="flex-1">
              <a class="link text-[var(--oceanDeep)] font-extrabold hover:underline">Lesson 1 — Welcome & Orientation</a>
              <p class="text-sm text-gray-600 mt-0.5">Course overview • Expectations • Digital tools • Icebreaker</p>
              <div class="mt-2 flex flex-wrap gap-2">
                <span class="pill">orientation</span><span class="pill">class routines</span>
              </div>
            </div>
            <span class="pill soon">Checking…</span>
          </div>
        </article>
      </div>

      <!-- Unit 1 excerpt -->
      <h3 class="mt-6 text-sm font-extrabold text-gray-700">Units overview</h3>
      <div class="mt-2 grid gap-3 sm:grid-cols-2 lg:grid-cols-3">
        <article class="card rounded-2xl border border-gray-200 bg-white p-4">
          <div class="flex items-start gap-3">
            <div class="rounded-lg bg-white shadow p-2"><span class="text-[var(--oceanDeep)] font-extrabold">1</span></div>
            <div class="flex-1">
              <div class="text-[var(--oceanDeep)] font-extrabold">Unit 1 — The Number System</div>
              <p class="text-sm text-gray-600 mt-0.5">BIDMAS + |x| • Recurring decimals • Rounding • Squares/Roots • Fractions ops</p>
              <div class="mt-2 grid gap-2">
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade8/lesson-2.html">
                  <span>BIDMAS Review & Absolute Value</span><span class="pill soon">Coming soon</span></a>
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade8/lesson-3.html">
                  <span>Recurring Decimals → Fractions</span><span class="pill soon">Coming soon</span></a>
              </div>
            </div>
          </div>
        </article>

        <article class="card rounded-2xl border border-gray-200 bg-white p-4">
          <div class="flex items-start gap-3">
            <div class="rounded-lg bg-white shadow p-2"><span class="text-[var(--oceanDeep)] font-extrabold">2</span></div>
            <div class="flex-1">
              <div class="text-[var(--oceanDeep)] font-extrabold">Unit 2 — Geometry of Polygons</div>
              <p class="text-sm text-gray-600 mt-0.5">Angle facts • Triangles • Quadrilaterals • Parallel lines • Polygons</p>
              <div class="mt-2 grid gap-2">
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade8/lesson-6.html">
                  <span>Angle Facts & Triangles</span><span class="pill soon">Coming soon</span></a>
              </div>
            </div>
          </div>
        </article>

        <article class="card rounded-2xl border border-gray-200 bg-white p-4">
          <div class="flex items-start gap-3">
            <div class="rounded-lg bg-white shadow p-2"><span class="text-[var(--oceanDeep)] font-extrabold">5</span></div>
            <div class="flex-1">
              <div class="text-[var(--oceanDeep)] font-extrabold">Unit 5 — Pythagorean Theorem</div>
              <p class="text-sm text-gray-600 mt-0.5">Theorem & converse • Solve sides • Coordinate distance</p>
              <div class="mt-2 grid gap-2">
                <a class="row inline-flex items-center justify-between rounded-lg border px-3 py-2" data-href="grade8/lesson-12.html">
                  <span>Theorem, Converse & Problems</span><span class="pill soon">Coming soon</span></a>
              </div>
            </div>
          </div>
        </article>
      </div>
    </section>

    <div class="my-10 divider"></div>

    <!-- FOOTER -->
    <footer class="mb-10 text-center text-sm text-gray-600">
      © <span id="year"></span> Qatar Leadership Academy — Member of Qatar Foundation •
      <span class="font-semibold">Created by Mohammad Abu Ghuwaleh</span>
    </footer>
  </main>

  <!-- INTERACTIONS -->
  <script>
    const tab7=document.querySelector('#tab7'), tab8=document.querySelector('#tab8');
    const panel7=document.querySelector('#panel7'), panel8=document.querySelector('#panel8');
    const search=document.querySelector('#search');

    function showGrade(which){
      const g7=which===7;
      tab7.setAttribute('aria-selected', g7?'true':'false');
      tab8.setAttribute('aria-selected', g7?'false':'true');
      panel7.classList.toggle('hidden', !g7);
      panel8.classList.toggle('hidden', g7);
      search.value='';
      filterCards('');
      localStorage.setItem('qla_portal_grade', g7?'7':'8');
      window.scrollTo({top:0, behavior:'smooth'});
    }
    tab7.addEventListener('click',()=>showGrade(7));
    tab8.addEventListener('click',()=>showGrade(8));

    function filterCards(q){
      const panel=panel7.classList.contains('hidden')?panel8:panel7;
      const items=panel.querySelectorAll('.card, .row');
      const query=(q||'').toLowerCase();
      items.forEach(el=>{
        const text=el.innerText.toLowerCase();
        el.style.display=text.includes(query)?'':'none';
      });
    }
    search.addEventListener('input',e=>filterCards(e.target.value));
    document.addEventListener('keydown',e=>{
      if(e.key==='/'){ e.preventDefault(); search.focus(); }
      if(e.key.toLowerCase()==='g'){ const next=tab7.getAttribute('aria-selected')==='true'?8:7; showGrade(next); }
    });

    // Make cards clickable & probe existence for “Open / Coming soon”
    function wireLinks(){
      document.querySelectorAll('[data-href]').forEach(el=>{
        const href=el.getAttribute('data-href');
        const link=el.querySelector('.link') || el;
        const badge=el.querySelector('.pill') || el.querySelector('.row .pill');
        el.style.cursor='pointer';
        el.addEventListener('click',evt=>{
          if (el.dataset.exists==='1'){ window.location.href=href; }
        });
        // HEAD probe on same origin
        fetch(href, {method:'HEAD'}).then(res=>{
          const ok=res.ok;
          el.dataset.exists=ok?'1':'0';
          if(link && link.classList.contains('link') && ok){ link.setAttribute('href', href); }
          if(badge){ badge.className = ok ? 'pill ok' : 'pill soon'; badge.textContent = ok ? 'Open' : 'Coming soon'; }
        }).catch(()=>{
          el.dataset.exists='0';
          if(badge){ badge.className='pill soon'; badge.textContent='Coming soon'; }
        });
      });
    }

    (function init(){
      const saved=localStorage.getItem('qla_portal_grade');
      showGrade(saved==='8'?8:7);
      document.querySelector('#year').textContent=new Date().getFullYear();
      wireLinks();
    })();
  </script>
</body>
</html>
