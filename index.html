<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>QLA Mathematics — Grades 7 & 8</title>

  <!-- Fonts (optional) -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Merriweather:wght@700&display=swap" rel="stylesheet" />

  <style>
    :root{
      --maroon:#7a1632;     /* QLA-inspired accent (not official code) */
      --maroon-900:#5e0f25;
      --gold:#c8a86a;
      --ink:#121212;
      --ink-2:#2a2a2a;
      --muted:#6b7280;
      --bg:#f7f7f8;
      --card:#ffffff;
      --ring: rgba(122,22,50,.25);
      --radius:14px;
      --shadow:0 10px 25px rgba(0,0,0,.08);
      --shadow-sm: 0 6px 16px rgba(0,0,0,.06);
      --shadow-lg: 0 16px 40px rgba(0,0,0,.12);
    }
    /* Reset-ish */
    *,*::before,*::after{ box-sizing:border-box }
    html,body{ margin:0; padding:0; background:var(--bg); color:var(--ink); font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; line-height:1.55 }
    img{ max-width:100%; height:auto; display:block }
    a{ color:var(--maroon); text-decoration:none }
    a:hover{ text-decoration:underline }

    /* Header / Nav */
    .site-header{
      position:sticky; top:0; z-index:50; backdrop-filter:saturate(1.2) blur(6px);
      background:rgba(255,255,255,.75); border-bottom:1px solid rgba(0,0,0,.06);
    }
    .wrap{ width:min(1200px, 92vw); margin-inline:auto }
    .nav{
      display:flex; align-items:center; justify-content:space-between; gap:16px; padding:12px 0
    }
    .brand{ display:flex; align-items:center; gap:12px; font-weight:800; letter-spacing:.2px }
    .brand img{ width:44px; height:44px; border-radius:6px }
    .brand .t1{ font-size:18px; color:var(--ink) }
    .brand .t2{ font-size:12px; color:var(--muted); margin-top:-2px }
    .nav-links{ display:flex; align-items:center; gap:18px }
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:10px 14px; border-radius:10px; border:1px solid rgba(0,0,0,.08);
      background:var(--card); box-shadow:var(--shadow-sm); color:var(--ink); font-weight:600
    }
    .btn:hover{ transform:translateY(-1px); box-shadow:var(--shadow) }
    .btn.primary{
      background:linear-gradient(180deg, var(--maroon), var(--maroon-900));
      color:white; border-color:transparent; box-shadow:0 10px 20px rgba(122,22,50,.25)
    }
    .btn.ghost{ background:transparent; border-color:rgba(0,0,0,.12) }

    /* Hero */
    .hero{
      position:relative; min-height:52vh; display:grid; place-items:center; isolation:isolate;
      background: #000;
    }
    .hero::before{
      content:""; position:absolute; inset:0; z-index:-2;
      background-image:linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.50)), url("qla_banner.png");
      background-size:cover; background-position:center;
    }
    .hero::after{
      content:""; position:absolute; inset:0; z-index:-1;
      background:radial-gradient(1000px 400px at 20% 10%, rgba(200,168,106,.28), transparent 55%),
                 radial-gradient(1000px 500px at 90% 10%, rgba(122,22,50,.32), transparent 60%);
      mix-blend-mode:soft-light;
    }
    .hero-inner{ padding:84px 0; text-align:center; color:white }
    .hero h1{
      font-family:Merriweather, Georgia, serif;
      font-size: clamp(28px, 5vw, 48px); line-height:1.12; margin:0 0 10px
    }
    .hero p{ margin:0 auto 20px; max-width:760px; opacity:.95 }
    .badge{
      display:inline-block; font-size:12px; letter-spacing:.3px; text-transform:uppercase;
      padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.12);
      border:1px solid rgba(255,255,255,.3)
    }

    /* Grade Cards */
    .section{ padding:48px 0 }
    .section h2{ font-size: clamp(22px, 3.2vw, 32px); margin:0 0 10px }
    .sub{ color:var(--muted); margin-bottom:28px }
    .grid{ display:grid; grid-template-columns:1fr; gap:20px }
    @media (min-width:860px){ .grid{ grid-template-columns:1fr 1fr } }

    .card{
      background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
      padding:22px; border:1px solid rgba(0,0,0,.06)
    }
    .card h3{ margin:0 0 6px; font-size:22px }
    .card .meta{ color:var(--muted); font-size:13px; margin-bottom:16px }

    .outline{ display:grid; gap:10px; margin-top:14px }
    .outline details{
      background:#fff; border:1px solid rgba(0,0,0,.08); border-radius:12px; padding:12px 14px
    }
    .outline summary{ cursor:pointer; font-weight:700; color:var(--ink-2) }
    .outline ul{ margin:10px 0 0 18px; padding:0; color:#333 }
    .outline li{ margin:4px 0 }

    /* Lessons list */
    .lessons{ margin-top:14px; display:grid; gap:10px }
    .lesson{
      display:flex; align-items:center; justify-content:space-between; gap:14px;
      background:#fff; border:1px solid rgba(0,0,0,.08); border-radius:12px; padding:12px 14px
    }
    .lesson-title{ font-weight:700 }
    .status{
      font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid;
      display:inline-flex; align-items:center; gap:8px; white-space:nowrap
    }
    .ok{ color:#115e26; border-color:#bfe1c9; background:#e9f7ee }
    .soon{ color:#7a1632; border-color:#f0c0cf; background:#fef2f6 }
    .spinner{
      width:14px; height:14px; border-radius:999px; border:2px solid rgba(0,0,0,.15);
      border-top-color:rgba(0,0,0,.55); animation:spin .9s linear infinite
    }
    @keyframes spin{ to{ transform:rotate(360deg) } }

    /* Footer */
    footer{
      margin-top:28px; padding:20px 0 48px; text-align:center; color:var(--muted);
    }
    footer strong{ color:var(--ink-2) }

    /* Reduced motion */
    @media (prefers-reduced-motion:reduce){
      .btn:hover{ transform:none }
      .spinner{ animation:none; border-top-color:rgba(0,0,0,.15) }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="site-header">
    <div class="wrap">
      <nav class="nav" aria-label="Primary">
        <a class="brand" href="#top" aria-label="QLA Mathematics">
          <img src="..\assets\logo.svg" alt="QLA crest logo" />
          <div>
            <div class="t1">Qatar Leadership Academy</div>
            <div class="t2">Mathematics — Grades 7 & 8</div>
          </div>
        </a>
        <div class="nav-links">
          <a class="btn ghost" href="#grades">Grades</a>
          <a class="btn" href="#outline">Course Outlines</a>
          <a class="btn primary" href="#start">Start Learning</a>
        </div>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero" id="top" role="banner">
    <div class="wrap hero-inner">
      <span class="badge">Academic Year 2024–2025</span>
      <h1>Shaping Mathematical Thinkers</h1>
      <p>
        Choose your grade level below to access lessons. Each lesson shows <em>Open</em> as soon as the file
        is uploaded; until then you’ll see <em>Coming Soon</em>. Welcome &amp; Orientation is already available for both grades.
      </p>
      <div style="display:flex; gap:12px; justify-content:center; margin-top:8px">
        <a class="btn primary" href="#grades">Browse by Grade</a>
        <a class="btn" href="#outline">View Course Outlines</a>
      </div>
    </div>
  </section>

  <main id="start">
    <!-- Grades -->
    <section class="section" id="grades">
      <div class="wrap">
        <h2>Pick Your Grade</h2>
        <div class="sub">Welcome &amp; Orientation first — then units roll out as they’re published.</div>

        <div class="grid">
          <!-- Grade 7 -->
          <article class="card" aria-labelledby="g7-title">
            <h3 id="g7-title">Grade 7</h3>
            <div class="meta">Unit sequence aligned to the Grade 7 course outline (2024–25).</div>

            <div class="lessons" id="g7-lessons" aria-live="polite" aria-busy="true">
              <!-- Populated by JS -->
            </div>

            <div class="outline" style="margin-top:18px">
              <details>
                <summary>Course Outline — Units at a Glance</summary>
                <ul>
                  <li>Unit 1 — Numbers (Rational Numbers: opposites; ±, ×, ÷; combined operations).</li>
                  <li>Unit 2 — Properties of Numbers &amp; Fractions (factors, HCF/LCM; equivalent/proper/improper; operations).</li>
                  <li>Unit 3 — Expressions (linear expressions: writing rules; like terms; products; evaluate; expand; factorize).</li>
                  <li>Unit 4 — Equations (solving linear equations: one/two/multi‑step).</li>
                  <li>Unit 5 — Ratios &amp; Proportional Relationships (express, simplify, divide quantities, problem solving).</li>
                  <li>Unit 7 — Coordinates (plotting; straight lines; intercepts; horizontal/vertical lines).</li>
                  <li>Unit 8 — Statistics (tables, bar charts, stem &amp; leaf, mean/median/mode/range, grouped mean).</li>
                  <li>Unit 9 — Probability (simple &amp; compound; tree diagrams; theoretical &amp; complementary events).</li>
                </ul>
                <div style="margin-top:10px">
                  <a class="btn" href="Course Outline-Grade7-2024-2025.docx" download>Download Grade 7 Course Outline (DOCX)</a>
                </div>
              </details>
            </div>
          </article>

          <!-- Grade 8 -->
          <article class="card" aria-labelledby="g8-title">
            <h3 id="g8-title">Grade 8</h3>
            <div class="meta">Unit sequence aligned to the Grade 8 course outline (2024–25).</div>

            <div class="lessons" id="g8-lessons" aria-live="polite" aria-busy="true">
              <!-- Populated by JS -->
            </div>

            <div class="outline" style="margin-top:18px">
              <details>
                <summary>Course Outline — Units at a Glance</summary>
                <ul>
                  <li>Unit 1 — The Number System (BEDMAS &amp; absolute value; recurring decimals; rounding; squares &amp; roots; fraction ops).</li>
                  <li>Unit 2 — Geometry of Polygons (angles; triangles; quadrilaterals; parallel lines; polygon angle sums).</li>
                  <li>Unit 3 — Geometry: Transformations &amp; Congruence (translations, rotations, reflections, dilations).</li>
                  <li>Unit 4 — Statistics (pie charts; histograms; optional: association &amp; line of best fit).</li>
                  <li>Unit 5 — Pythagorean Theorem (theorem &amp; converse; problem solving).</li>
                  <li>Unit 6 — Expressions &amp; Equations (systems by elimination, substitution, equating).</li>
                  <li>Unit 7 — Measurement (circle parts; perimeter/area; composite shapes; volumes of solids).</li>
                  <li>Unit 8 — Statistics &amp; Probability (compound probability).</li>
                  <li>Unit 9 — Congruence &amp; Similarity (triangle constructions: ASA, SAS, SSS).</li>
                  <li>Unit 10 — Percentages (forms; conversions; % of; increase/decrease; % change).</li>
                </ul>
                <div style="margin-top:10px">
                  <a class="btn" href="Course Outline-Grade8-2024-25.docx" download>Download Grade 8 Course Outline (DOCX)</a>
                </div>
              </details>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- Teacher + Contact -->
    <section class="section" id="outline">
      <div class="wrap">
        <div class="card" style="display:flex; gap:18px; align-items:center; flex-wrap:wrap">
          <img src="..\assets\logo.svg" alt="QLA crest" width="56" height="56" style="border-radius:10px" />
          <div>
            <div style="font-weight:800">Created by <strong>Mohammad Abu Ghuwaleh</strong></div>
            <div class="sub" style="margin:4px 0 0">Course materials curated to align with the Qatar Leadership Academy program.</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">
      <div>© <span id="yr"></span> Qatar Leadership Academy — Mathematics</div>
      <div style="margin-top:6px">Built and maintained by <strong>Mohammad Abu Ghuwaleh</strong>.</div>
    </div>
  </footer>

  <script>
    // --- Year
    document.getElementById('yr').textContent = new Date().getFullYear();

    // --- Lesson registry
    // Each lesson can specify 'file' (exact path) or we will try a few candidate names.
    const DATA = {
      g7: [
        { title: "Welcome & Orientation", file: "Grade 7 lesson 1.html" },               // exists (you uploaded it)
        { title: "Unit 1 — Numbers (Rational Numbers)" },
        { title: "Unit 2 — Properties of Numbers & Fractions" },
        { title: "Unit 3 — Expressions (Linear Expressions)" },
        { title: "Unit 4 — Equations (Solving Linear Equations)" },
        { title: "Unit 5 — Ratios & Proportional Relationships" },
        { title: "Unit 7 — Coordinates" },
        { title: "Unit 8 — Statistics" },
        { title: "Unit 9 — Probability" }
      ],
      g8: [
        { title: "Welcome & Orientation", file: "Lesson 1.html" },                       // exists (you uploaded it)
        { title: "Unit 1 — The Number System" },
        { title: "Unit 2 — Geometry of Polygons" },
        { title: "Unit 3 — Transformations & Congruence" },
        { title: "Unit 4 — Statistics" },
        { title: "Unit 5 — Pythagorean Theorem" },
        { title: "Unit 6 — Expressions & Equations (Systems)" },
        { title: "Unit 7 — Measurement (Area • Volume • Surface Area)" },
        { title: "Unit 8 — Statistics & Probability (Compound)" },
        { title: "Unit 9 — Congruence & Similarity (Constructions)" },
        { title: "Unit 10 — Percentages" }
      ]
    };

    // Candidate filename guesses to let new uploads “just work”:
    function toSlug(s){
      return s.toLowerCase()
        .replace(/&/g,'and')
        .replace(/[^a-z0-9]+/g,'-')
        .replace(/-+/g,'-').replace(/(^-|-$)/g,'');
    }
    function candidates(gradeKey, title){
      const slug = toSlug(title);
      // Try a few reasonable places/names so you don't have to edit JS each time:
      return [
        `${gradeKey}/${slug}.html`,
        `${gradeKey}/${slug}/index.html`,
        `${gradeKey}/unit-${slug}.html`,
        `${gradeKey}/lesson-${slug}.html`,
        `${gradeKey}-${slug}.html`,
        `${gradeKey}_` + slug + `.html`,
        `${slug}.html` // root fallback
      ];
    }

    async function exists(url){
      try{
        const res = await fetch(url, { method:"HEAD", cache:"no-cache" });
        if(res.ok) return true;
        // Some hosts block HEAD; fallback to GET
        const res2 = await fetch(url, { method:"GET", cache:"no-cache" });
        return res2.ok;
      }catch(e){ return false; }
    }

    function lessonRow(title, href, ok){
      const a = document.createElement('a');
      a.className = 'btn' + (ok ? '' : ' disabled');
      a.href = ok ? href : '#';
      a.setAttribute('aria-disabled', ok ? 'false' : 'true');
      a.textContent = ok ? 'Open' : '—';
      if(!ok){ a.style.pointerEvents='none'; a.style.opacity='.5'; }

      const row = document.createElement('div');
      row.className = 'lesson';
      const left = document.createElement('div');
      left.innerHTML = `<div class="lesson-title">${title}</div>`;
      const right = document.createElement('div');
      const badge = document.createElement('span');
      badge.className = 'status soon';
      badge.innerHTML = `<span class="spinner" aria-hidden="true"></span> Checking…`;
      right.append(a, badge);
      row.append(left, right);
      return { row, a, badge };
    }

    async function renderGrade(containerId, gradeKey){
      const wrap = document.getElementById(containerId);
      wrap.innerHTML = '';
      wrap.setAttribute('aria-busy','true');

      for(const item of DATA[gradeKey]){
        const { row, a, badge } = lessonRow(item.title, '#', false);
        wrap.appendChild(row);

        // Evaluate availability
        let url = item.file || null;
        let ok = false;
        if(url){ ok = await exists(url); }
        else{
          for(const guess of candidates(gradeKey, item.title)){
            if(await exists(guess)){ url = guess; ok = true; break; }
          }
        }
        if(ok){
          a.href = url; a.classList.remove('disabled'); a.style.pointerEvents='auto'; a.style.opacity='1';
          badge.className = 'status ok'; badge.textContent = 'Open';
        }else{
          badge.className = 'status soon'; badge.textContent = 'Coming Soon';
        }
      }
      wrap.removeAttribute('aria-busy');
    }

    // Render both grades on load
    renderGrade('g7-lessons', 'g7');
    renderGrade('g8-lessons', 'g8');
  </script>
</body>
</html>
